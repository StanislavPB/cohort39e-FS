# Lesson 14


Моделирование API на Java - это процесс проектирования и создания интерфейсов приложений (API) с использованием языка программирования Java. Этот процесс включает в себя несколько этапов, начиная с определения требований и заканчивая реализацией и документированием API. Давайте рассмотрим каждый этап более подробно:

1. **Определение требований**:
   Первым шагом в моделировании API является понимание требований к вашему API.
   Это включает в себя определение функциональности, которую должно предоставлять API,
   а также определение типов данных, которые будут передаваться через API и ожидаемых результатов.

2. **Проектирование интерфейса**:
   На этом этапе вы определяете структуру вашего API, включая пути доступа (endpoints),
   методы запросов, параметры и форматы данных. Вам может помочь использование различных инструментов,
   таких как UML-диаграммы или специализированные инструменты для проектирования API.

3. **Выбор архитектурного стиля**:
   Выбор архитектурного стиля API важен для обеспечения эффективности, масштабируемости и безопасности
   вашего приложения. Наиболее популярным в настоящее время является RESTful.

4. **Разработка бизнес-логики**:
   После того как вы определили структуру API, вам нужно реализовать бизнес-логику,
   которая будет выполняться при вызове каждого метода API.
   Здесь важно обеспечить корректную обработку запросов, валидацию данных и выполнение необходимых операций.

5. **Использование библиотек и фреймворков**:
   В Java существует множество библиотек и фреймворков, которые могут упростить создание и поддержку API.
   Эти инструменты предоставляют множество функций, таких как инверсия управления, внедрение зависимостей,
   управление транзакциями и многое другое.

6. **Тестирование API**:
   После реализации API важно протестировать его на соответствие требованиям, а также на безопасность
   и производительность. Это может включать в себя функциональное тестирование, модульное тестирование,
   интеграционное тестирование и нагрузочное тестирование.

7. **Документирование API**:
   Хорошая документация API помогает разработчикам быстро и легко понять, как использовать ваше API.
   Обычно это включает в себя описание каждого метода API, его параметров, возвращаемых значений и возможных ошибок.
   Вы можете использовать инструменты автоматической генерации документации, такие как Swagger или OpenAPI, чтобы упростить этот процесс.

8. **Развертывание и масштабирование**:
   После завершения разработки и тестирования API вы можете развернуть его на сервере и настроить масштабируемость
   для обеспечения отказоустойчивости и эффективности работы при росте нагрузки.

Это основные этапы процесса моделирования API на Java.


### **JSON (JavaScript Object Notation)**
Это легкий формат обмена данными, основанный на подмножестве синтаксиса JavaScript. Он представляет собой текстовый формат, понятный для человека, который легко читается и записывается, а также удобен для машины для разбора и генерации данных.
JSON состоит из пар "ключ: значение", где ключ - это строка, а значение может быть строкой, числом, логическим значением, массивом, объектом или null.

В Spring Boot приложениях JSON широко используется для обмена данными между клиентом и сервером.
Spring Boot обеспечивает удобные средства для работы с JSON, включая автоматическую сериализацию и десериализацию объектов Java в JSON и обратно с использованием Jackson, который является стандартным для многих приложений на Java.

Чтобы использовать JSON в Spring Boot приложении, вы можете использовать аннотации контроллеров, такие как @RestController, которые автоматически сериализуют результаты методов контроллера в JSON.

Пример:

```java
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
@RequestMapping("/api")
public class MyController {
    
    @GetMapping("/example")
    public MyObject getExample() {
        MyObject obj = new MyObject();
        obj.setId(1);
        obj.setName("Example");
        return obj;
    }
}
```

```java
public class MyObject {
    
    private int id;
    private String name;
    
    // Геттеры и сеттеры
}
```

В этом примере метод `getExample()` возвращает объект `MyObject`, который автоматически сериализуется в JSON при вызове этого метода.
В результате клиент получит JSON-объект вида `{"id":1,"name":"Example"}`.

Таким образом, JSON является важной частью разработки Spring Boot приложений, поскольку обеспечивает удобный и эффективный способ обмена данными между клиентом и сервером.


### **DTO (Data Transfer Object)**

DTO — это объект, который используется для передачи данных между подсистемами приложения.
Он содержит только поля и getter/setter методы для доступа к ним.
DTO не содержит бизнес-логики и используется только для передачи данных.

## Что такое DTO (Data Transfer Object)?

Зачастую, в клиент-серверных приложениях, данные на клиенте (слой представления) и на сервере (слой предметной области) структурируются по-разному.
На стороне сервера это дает нам возможность комфортно хранить данные в базе данных или оптимизировать использование данных в угоду производительности,
в то же время заниматься “user-friendly” отображением данных на клиенте, и, для серверной части, нужно найти способ как переводить данные из одного формата в другой.
Конечно, существуют и другие архитектуры приложений, но DTO-подобные объекты могут использоваться между любыми двумя слоями представления данных.

DTO — это так называемый value-object на стороне сервера, который хранит данные, используемые в слое представления.
Следует разделять DTO на те, что мы используем при запросе (Request) и на те, что мы возвращаем в качестве ответа сервера (Response).
Они автоматически сериализуются и десериализуются фреймворком Spring.


